<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soft Elixir</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="container">
        <h1 id="soft-elixir">Soft Elixir</h1>
<p>Soft Elixir is a browser-based sequencer.</p>
<p><img src="" alt="Soft Elixir"></p>
<p>{<a href="">demo</a>} // {<a href="#current-features">current features</a>} // {<a href="#dev-notes">dev notes</a>}</p>
<h2 id="current-features">Current features</h2>
<ul>
<li>Tracker-style pattern sequencing</li>
<li>Sampler</li>
</ul>
<h2 id="dev-notes">Dev notes</h2>
<p>{<a href="#todo">todo</a>} // {<a href="#rendering">rendering</a>} // {<a href="#sequencing">sequencing</a>}</p>
<h3 id="todo">Todo</h3>
<table>
<thead>
<tr>
<th>Area</th>
<th>Task</th>
<th>Status</th>
</tr>
</thead>
<tbody><tr>
<td>Func</td>
<td>Track solo controls</td>
<td>In development</td>
</tr>
<tr>
<td>UI</td>
<td>Number box</td>
<td>In development</td>
</tr>
<tr>
<td>Demo</td>
<td>Track 1</td>
<td>In development</td>
</tr>
<tr>
<td>Demo</td>
<td>Track 2</td>
<td>In development</td>
</tr>
<tr>
<td>Demo</td>
<td>Track 3</td>
<td>Research</td>
</tr>
<tr>
<td>DSP</td>
<td>Delay</td>
<td>Research</td>
</tr>
<tr>
<td>DSP</td>
<td>Reverb</td>
<td>Research</td>
</tr>
<tr>
<td>Func</td>
<td>Track FX</td>
<td>-</td>
</tr>
<tr>
<td>Func</td>
<td>Song data schema validation</td>
<td>-</td>
</tr>
<tr>
<td>Func</td>
<td>Pattern play direction</td>
<td>-</td>
</tr>
<tr>
<td>UI</td>
<td>VU meters</td>
<td>-</td>
</tr>
<tr>
<td>UI</td>
<td>Waveform display</td>
<td>-</td>
</tr>
<tr>
<td>UI</td>
<td>Text box</td>
<td>-</td>
</tr>
<tr>
<td>Demo</td>
<td>Docs</td>
<td>-</td>
</tr>
<tr>
<td>DSP</td>
<td>EQ</td>
<td>-</td>
</tr>
<tr>
<td>DSP</td>
<td>Chorus</td>
<td>-</td>
</tr>
<tr>
<td>Func</td>
<td>Networking</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id="rendering">Rendering</h3>
<p>The demo version of Soft Elixir renders its display using DOM elements. As a web-developer, the DOM is a very intuitive way of working. It&#39;s also extremely inefficient when it comes to producing a constantly moving grid of data.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas">Off-screen canvas rendering</a> has obvious advantages. We can push expensive animation operations to a separate thread via a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API">web worker</a> in order to protect the main processing thread.</p>
<p>By implementing a simple <code>drawArea</code> function, we draw only what should currently be visible:</p>
<pre><code>drawArea(top: number, bottom: number, left: number, right: number) {

  // clear canvas
  // ...

  // draw visible area
  for (let column = left; column &lt;= right; column++) {
    for (let row = top; row &lt;= bottom; row++) {
      // draw cell
    }
  }

}
</code></pre>
<p>To handle user navigation and input, a DOM element can be placed on top of the canvas. By locking the position of this DOM element to column width and row height, we can produce the effect of navigating the grid:</p>
<video controls>
  <source src="/assets/canvas-1.mov" type="video/mp4">
</video>

<h3 id="sequencing">Sequencing</h3>

    </div>
</body>
</html>